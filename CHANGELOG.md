# Changelog

## [Unreleased] ‚Äî 2025-11-13

### Added
- feat: –ø–ª–∞–Ω –ø–∞–º—è—Ç–∏ (draft ‚Üí proposed ‚Üí accepted ‚Üí scheduled) –∏ –∞–≤—Ç–æ–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ ¬´–∑–µ–ª—ë–Ω—ã—Ö –æ–∫–æ–Ω¬ª (MVP).
- feat: –∫–∞—Ä—Ç–æ—á–∫–∞ –∞–≤—Ç–æ–ø–ª–∞–Ω–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ ¬´–ü—Ä–∏–Ω—è—Ç—å/–í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è/–û—Ç–º–µ–Ω–∏—Ç—å¬ª, –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –≤–æ—Ä–∫–µ—Ä –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–æ—Ç–æ–≤.
- feat: –±—ã—Å—Ç—Ä—ã–π —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ (—Å–µ–≥–æ–¥–Ω—è –≤–µ—á–µ—Ä–æ–º/–∑–∞–≤—Ç—Ä–∞ —É—Ç—Ä–æ–º/–≤—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É) —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏, –µ—Å–ª–∏ –∞–≤—Ç–æ–ø–ª–∞–Ω –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.
- feat: `plan_sessions` —Ç–µ–ø–µ—Ä—å —Ñ–∏–∫—Å–∏—Ä—É—é—Ç —à–∞–≥–∏ –≤—Ä–µ–º–µ–Ω–∏ (fallback manual start, `time_scheduled`) –∏ –±–æ—Ç —É–º–µ–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É ¬´–®–∞–≥‚ÄØ3/3¬ª –ø–æ—Å–ª–µ –ø–∞—É–∑.
- feat: —Ä–∞–∑–¥–µ–ª ¬´üìã –ú–æ–∏ –ø–ª–∞–Ω—ã¬ª –¥–∞—ë—Ç –∫—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä –±–ª–∏–∂–∞–π—à–∏—Ö –æ–±—Ä–∞–±–æ—Ç–æ–∫, –≤—ã–¥–µ–ª—è–µ—Ç –±–ª–æ–∫ ¬´–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ¬ª (—Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –∏ bulk-–¥–µ–π—Å—Ç–≤–∏—è–º–∏), –∞ –ø–µ—Ä–µ–Ω–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–∏; –∫–æ–º–∞–Ω–¥—ã `/new`, `/plans`, `/objects` –∑–∞–∫—Ä–µ–ø–ª–µ–Ω—ã –≤ –º–µ–Ω—é Telegram –∏ –±–æ—Ç —à–ª—ë—Ç push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–∏ –ø—Ä–æ—Å—Ä–æ—á–µ–∫.
- feat: —Å–æ–±—ã—Ç–∏—è –≤–æ—Ä–æ–Ω–∫–∏ (`photo_received ‚Üí slot_confirmed`) + SQL-–æ—Ç—á—ë—Ç (`docs/LOGGING.md`) –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏.
- feat: –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π follow-up –±–µ–∑ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–π—Å—è –ø–µ—Ä–≤–æ–π —Ñ—Ä–∞–∑—ã + —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞.
- docs: –æ–±–Ω–æ–≤–ª–µ–Ω—ã PRD/SRS, –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö, API-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –∞–ª–≥–æ—Ä–∏—Ç–º –∞–≤—Ç–æ–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞, UX-–ø–æ—Ç–æ–∫–∏, –ø—Ä–∞–≤–∏–ª–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
- docs: README –∏ UX flows –æ–ø–∏—Å—ã–≤–∞—é—Ç –∫–∞—Ä—Ç–æ—á–∫—É –∞–≤—Ç–æ–ø–ª–∞–Ω–∞ (—É—Å–ø–µ—à–Ω—ã–π –∏ fallback-–ø—É—Ç—å ¬´–®–∞–≥‚ÄØ3/3¬ª) –∏ —Ä—É—á–Ω–æ–π –º–∞—Å—Ç–µ—Ä –≤—Ä–µ–º–µ–Ω–∏.

### Configuration
- `.env.example` –¥–æ–ø–æ–ª–Ω–µ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ `REMINDER_TICK_MS`, `REMINDER_DEFAULT_DELAY_H`, `AUTOPLAN_MIN_HOURS_AHEAD`, `WEATHER_PROVIDER`, `CATALOG_IMPORT_PATH`.
- –¥–æ–±–∞–≤–ª–µ–Ω `BOT_HANDLER_TIMEOUT_MS`, —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –ª–∏–º–∏—Ç–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤ Telegraf (–∑–Ω–∞—á–µ–Ω–∏–µ `0`/–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç —Ç–∞–π–º–∞—É—Ç).

### Fixed
- fix: –¥–æ–±–∞–≤–ª–µ–Ω–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ `users.tg_id`, —á—Ç–æ–±—ã `ON CONFLICT (tg_id)` –≤ bot API –Ω–µ –ø–∞–¥–∞–ª –≤ –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞.
- fix: Alembic —Ç–µ–ø–µ—Ä—å –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç core-—Ç–∞–±–ª–∏—Ü—ã (`objects`, `cases`, `plan_stages`, `reminders`, `autoplan_runs` –∏ —Ç.–¥.) —á–µ—Ä–µ–∑ –æ–±—â–∏–π SQL-—Å–∫—Ä–∏–ø—Ç, —Ç–∞–∫ —á—Ç–æ –±–æ—Ç –Ω–µ –ø–∞–¥–∞–µ—Ç –Ω–∞ `relation ... does not exist`.
- fix: bot –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –æ–±—Ä—ã–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ñ–æ—Ç–æ –Ω–∞ 90‚Äë–π —Å–µ–∫—É–Ω–¥–µ ‚Äî —Ç–∞–π–º–∞—É—Ç Telegraf —Ç–µ–ø–µ—Ä—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `BOT_HANDLER_TIMEOUT_MS` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 180‚ÄØ000‚ÄØ–º—Å).
