# ======================
# üîë OpenAI API Settings
# ======================
OPENAI_API_KEY=sk-...
# –ú–æ–¥–µ–ª—å –¥–ª—è GPT‚ÄëVision (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
OPENAI_VISION_MODEL=gpt-5
# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –º–æ–¥–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, gpt-4o-mini), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ timeout –æ—Å–Ω–æ–≤–Ω–æ–π
OPENAI_VISION_MODEL_FALLBACK=gpt-4o-mini
# –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ –∫ OpenAI –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60)
OPENAI_TIMEOUT_SECONDS=60
# –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤—ã–±–æ—Ä–∫–∏ (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–æ–¥–µ–ª–∏)
OPENAI_TEMPERATURE=0
# –ú–æ–¥–µ–ª—å –¥–ª—è GPT‚ÄëVision (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
OPENAI_VISION_MODEL=gpt-5
# –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤—ã–±–æ—Ä–∫–∏ (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–æ–¥–µ–ª–∏)
OPENAI_TEMPERATURE=0

# –ü—Ä–æ–∫—Å–∏ –¥–ª—è OpenAI/HTTP (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
HTTP_PROXY=http://user:pass@host:port
HTTPS_PROXY=http://user:pass@host:port
# –õ–æ–∫–∞–ª—å–Ω—ã–µ Docker-—Å–µ—Ä–≤–∏—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –æ–±—Ö–æ–¥–∏—Ç—å –º–∏–º–æ –ø—Ä–æ–∫—Å–∏
NO_PROXY=localhost,127.0.0.1,api,bot,db,redis,minio,prometheus,loki,grafana,api.openai.com,securepay.tinkoff.ru,rest-api-test.tinkoff.ru

# ==============================
# ü§ñ Telegram Bot Configuration
# ==============================
# –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (BotFather)
BOT_TOKEN_DEV=your-dev-telegram-bot-token-here

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –±–æ—Ç–∞ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É API
API_BASE_URL=http://localhost:8010
API_KEY=test-api-key
API_VER=v1
# –ü–æ—Ä—Ç HTTP-—Å–µ—Ä–≤–µ—Ä–∞ Prometheus –º–µ—Ç—Ä–∏–∫ –±–æ—Ç–∞
BOT_METRICS_PORT=3000
# –¢–æ–∫–µ–Ω –¥–ª—è –∑–∞—â–∏—Ç—ã /metrics (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω, –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ X-Metrics-Token)
METRICS_TOKEN=dev-metrics-token
# –¢–∞–π–º–∞—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ Telegraf (–º—Å). 0 –∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç –ª–∏–º–∏—Ç.
BOT_HANDLER_TIMEOUT_MS=180000
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–æ–ø–æ–∫ –≤ —Ä—è–¥—É –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö —á–∏–ø–æ–≤ —Ä–∞—Å—Ç–µ–Ω–∏–π (1 = –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ)
OBJECT_CHIPS_ROW_SIZE=1
# –ú–∞–∫—Å–∏–º—É–º —á–∏–ø–æ–≤ —Ä–∞—Å—Ç–µ–Ω–∏–π –≤ –±—ã—Å—Ç—Ä—ã—Ö —á–∏–ø–∞—Ö
OBJECT_CHIPS_LIMIT=6
# ID —á–∞—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–ª—è /support (–º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º –¥–ª—è —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø)
SUPPORT_CHAT_ID=
# –¢–∞–π–º–∞—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (–º—Å)
SUPPORT_SESSION_TTL_MS=900000
# TG ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è —Å–ª—É–∂–µ–±–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ (JSON-–º–∞—Å—Å–∏–≤ –∏–ª–∏ CSV)
ADMIN_TG_IDS=[]

# –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (BotFather)
# BOT_TOKEN_PROD=your-prod-telegram-bot-token-here

# ========================
# üóÑÔ∏è  Database/PostgreSQL
# ========================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=
POSTGRES_DB=your_db
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# SQLAlchemy —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Alembic)
# –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –º–∏–≥—Ä–∞—Ü–∏–π —É–∫–∞–∂–∏—Ç–µ —ç—Ç—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
DATABASE_URL=sqlite:///./app.db
BOT_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/agronom
# Redis connection string for rate limiting and queues
REDIS_URL=redis://localhost:6379
# JSON list of trusted proxy IPs for X-Forwarded-For (add Docker gateway or reverse proxy IPs)
TRUSTED_PROXIES=["127.0.0.1","172.18.0.1","testclient"]

# ======================
# üü¢ Autoplan
# ======================
AUTOPLAN_MIN_HOURS_AHEAD=2
AUTOPLAN_HORIZON_H=72
AUTOPLAN_TIMEZONE=Europe/Moscow
AUTOPLAN_PREF_MIN_SLOTS=3
AUTOPLAN_PREF_MAX_SLOTS=50

# ==========================
# ‚öôÔ∏è FastAPI / Flask Configs
# ==========================
SECRET_KEY=replace-me
DEBUG=True
APP_ENV=development   # development / production / staging

# =======================
# üîí Security / HMAC / JWT
# =======================
HMAC_SECRET=test-hmac-secret
HMAC_SECRET_PARTNER=test-hmac-partner
# JWT_SECRET=your-jwt-secret (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JWT)
# ALLOWED_ORIGINS=http://localhost:3000 (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω CORS)

# ================
# ‚òÅÔ∏è S3 / Minio
# ================
S3_BUCKET=agronom
S3_REGION=us-east-1
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minio
S3_SECRET_KEY=minio123
S3_PUBLIC_URL=http://localhost:9000

# =========================
# üõ†Ô∏è Optional Dev Settings
# =========================
# LOG_LEVEL=info
# TELEGRAM_WEBHOOK_URL=https://your-domain.com/webhook
# TEST_USER_ID=111111111
# MOCK_MODE=True

# =========================
# üß™ External Integrations
# =========================
TINKOFF_TERMINAL_KEY=your-terminal-key
TINKOFF_SECRET_KEY=your-secret-key
TINKOFF_IPS=["<tbank-ip-1>","<tbank-ip-2>"]
SBP_MODE=mock
SBP_API_URL=https://securepay.tinkoff.ru/v2
SBP_API_TOKEN=
SBP_QR_ENABLED=false
SBP_TINKOFF_DESCRIPTION=Agronom Pro
SBP_TINKOFF_NOTIFICATION_URL=
SBP_TINKOFF_DATA={}
SBP_TINKOFF_QR_DATA={}
AUTOPAY_LEAD_DAYS=0
AUTOPAY_RUN_INTERVAL_MINUTES=60
AUTOPAY_SUCCESS_TEXT=–ê–≤—Ç–æ–ø–ª–∞—Ç—ë–∂ –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ. PRO –ø—Ä–æ–¥–ª—ë–Ω.
AUTOPAY_FAIL_TEXT=–ù–µ —É–¥–∞–ª–æ—Å—å —Å–ø–∏—Å–∞—Ç—å –æ–ø–ª–∞—Ç—É –∑–∞ PRO. –û–ø–ª–∞—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –≤ /subscribe.
AUTOPAY_DISABLED_TEXT=–ê–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ –ø–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –æ–ø–ª–∞—Ç—ã. –û–ø–ª–∞—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –≤ /subscribe –∏ –≤–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ —Å–Ω–æ–≤–∞.
AUTOPAY_RETRY_DELAYS_HOURS=24,48
AUTOPAY_RETRY_STATUSES=fail,bank_error
AUTOPAY_PENDING_TTL_MINUTES=15
AUTOPAY_MANUAL_BLOCK_HOURS=24
# SECURE_WEBHOOK=false
# TEST_USER_ID=1
# MOCK_AMOUNT=34900
# MOCK_BINDING_ID=
# AGROSTORE_API_KEY=your-agrostore-api-key-here
# PARTNER_WEBHOOK_SECRET=partner-secret
# PARTNER_LINK_BASE=https://agrostore.ru/agronom

# =======================
# üè∑Ô∏è  Misc/Other Settings
# =======================
# TZ=Europe/Moscow
# LANG=ru_RU.UTF-8
# Number of free diagnoses per month
FREE_MONTHLY_LIMIT=5
# Number of free photos for Telegram bot per month
FREE_PHOTO_LIMIT=5
PAYWALL_ENABLED=true
PRO_MONTH_PRICE_CENTS=19900
RETRY_CRON=0 1 * * *
RETRY_CONCURRENCY=1
RETRY_LIMIT=3
PRIVACY_URL=
PRIVACY_VERSION=1.0
OFFER_URL=
OFFER_VERSION=1.0
AUTOPAY_VERSION=1.0
MARKETING_VERSION=1.0
# Beta houseplants MVP test
BETA_HOUSEPLANTS_ENABLED=false
# –í–∫–ª—é—á–∏—Ç—å beta-—Ä–µ–∂–∏–º –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–±–µ–∑ —Å–ø–∏—Å–∫–∞)
BETA_OPEN_ALL=false
# Comma-separated or JSON list of Telegram user IDs for beta testers
BETA_TESTER_IDS=[]
# Follow-up delay in days (beta only)
BETA_FOLLOWUP_DAYS=3
# Follow-up retry delay in days (beta only)
BETA_FOLLOWUP_RETRY_DAYS=2
FEEDBACK_URL=https://example.com/feedback
RECENT_DIAG_TTL_H=24
RECENT_DIAG_MAX_AGE_H=72
PLAN_SESSION_TTL_H=6
PLAN_SESSION_MAX_AGE_H=24
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ product_rules –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤ (0 ‚Äî –æ—Ç–∫–ª—é—á–µ–Ω–æ, 1 ‚Äî –≤–∫–ª—é—á–µ–Ω–æ)
PLAN_USE_PRODUCT_RULES=0
LOCATION_REQUEST_TTL_MS=120000
GEOCODER_PROVIDER=nominatim
GEOCODER_BASE_URL=https://nominatim.openstreetmap.org/search
GEOCODER_CACHE_TTL_S=86400
GEOCODER_TIMEOUT_MS=5000
GEOCODER_USER_AGENT=agronom-bot/1.0

# =========================
# üìö Catalog Import SSL
# =========================
# Verify TLS certificates when downloading protocol archives
CATALOG_SSL_VERIFY=true
# Path to a custom CA bundle file
CATALOG_CA_BUNDLE=
